<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Ma ChÃ©rie ðŸ’–</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/png" sizes="32x32" href="icon-192.png">
  <link rel="shortcut icon" href="icon-192.png" type="image/png">

  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#ff7eb9">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-title" content="LoveMsg">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <link rel="apple-touch-icon" href="icon-192.png">

  <style>
    body {
      margin: 0;
      min-height: 100vh;
      min-height: 100dvh;
      background: linear-gradient(
        270deg,
        #ffd6e8,
        #ffc0d9,
        #ffb3d1
      );
      background-size: 600% 600%;
      animation: gradientShift 20s ease infinite;
      overflow: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: "Segoe UI", sans-serif;
      padding-top: env(safe-area-inset-top);
      padding-bottom: env(safe-area-inset-bottom);
    }
    body.night {
      background: linear-gradient(
        270deg,
        #2b1a2f,
        #3a1f3f,
        #4a2450
      );
    }
    body.night .container {
      background: rgba(30, 20, 35, 0.55);
      border-color: rgba(255,255,255,0.15);
    }
    body.night .heart {
      opacity: 0.6;
      filter: drop-shadow(0 0 4px rgba(255,180,220,0.4));
    }
    .hearts {
      position: absolute;
      inset: 0;
      z-index: 1;
      overflow: hidden;
    }
    .heart {
      cursor: pointer;
      transition: transform 0.2s ease, opacity 0.2s ease;
      position: absolute;
      bottom: -20px;
      animation: floatUp linear infinite;
      opacity: 0.85;
      filter: drop-shadow(0 0 6px rgba(255,126,185,0.6));
    }
    .heart.pop {
      transform: scale(1.8);
      opacity: 0;
    }
    .container {
      position: relative;
      z-index: 2;
      text-align: center;
      color: white;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      max-width: 90vw;
      padding: 1.5rem;
      gap: 1rem;
      background: rgba(255, 255, 255, 0.15);
      backdrop-filter: blur(2px);
      -webkit-backdrop-filter: blur(12px);
      border-radius: 20px;
      box-shadow: 0 20px 40px rgba(0,0,0,0.25);
      padding: 2rem 2.5rem;
      border: 1px solid rgba(255,255,255,0.35);
    }
    .special-day .container {
      box-shadow:
        0 0 25px rgba(222, 45, 124, 0.6),
        0 20px 40px rgba(0,0,0,0.3);
    }
    .date, .message, .signature {
      text-shadow:
        -2px -2px 0 #000,
         0px -2px 0 #000,
         2px -2px 0 #000,
        -2px  0px 0 #000,
         2px  0px 0 #000,
        -2px  2px 0 #000,
         0px  2px 0 #000,
         2px  2px 0 #000,
         0px  4px 8px rgba(0,0,0,0.35);
      opacity: 0.95;
    }
    .date { 
      font-size: 1rem; 
    }
    .message { 
      font-size: clamp(1.6rem, 5vw, 2.6rem); 
      margin: auto 0; 
    }
    .container.sparkle {
      position: relative;
      overflow: hidden;
    }
    .container.sparkle::after {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(
        120deg,
        transparent 30%,
        rgba(255,255,255,0.6) 50%,
        transparent 70%
      );
      transform: translateX(-100%);
      animation: shimmer 2.5s ease-in-out 1;
      pointer-events: none;
    }
    .signature { 
      font-size: 1.1rem; 
    }
    @keyframes floatUp {
      from { transform: translateY(0); opacity: 0.85; }
      to { transform: translateY(-110vh); opacity: 0; }
    }
    @keyframes gradientShift {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
    @keyframes shimmer {
      to { transform: translateX(100%); }
    }
  </style>
</head>
<body>
  <div class="hearts" id="hearts"></div>
  <div class="container" id="container">
    <div class="date" id="date"></div>
    <div class="message" id="message"></div>
    <div class="signature">Yours, Marc</div>
  </div>
  <script>
    const messages = [
      "I love the way your eyes sparkle when you laugh âœ¨",
      "You're my favourite person â¤ï¸",
      "You're absolutely stunning, inside and out ðŸ’•",
      "Always thinking of you ðŸ’•",
      "Your voice is one of Earth's loveliest sounds ðŸ’–",
      "You make everything better ðŸ’–",
      "I'm so lucky to have you ðŸ¥°",
      "Your hair looks amazing every single day ðŸ’–",
      "You are a shining gem ðŸ’Ž",
      "I can't imagine a better life than one with you ðŸ˜˜",
      "You fill me with joy ðŸ˜Š",
      "I adore everything about you ðŸ’˜",
      "Your lips are my favourite place to see a smile ðŸ˜˜",
      "You are the most beautiful person on earth ðŸ˜",
      "I love cuddling you so much ðŸ˜š",
      "You look incredible every time I see you ðŸ˜",
      "I will always look after you ðŸ’—",
      "You make me feel so warm, inside and out ðŸ¤—",
      "I will forever be here for you ðŸ’–",
      "My heart goes crazy when you get that playful glint in your eye âœ¨",
      "You have the cutest smile I've ever seen ðŸ˜Š",
      "You mean the world to me ðŸ¥°",
      "I could look into your gorgeous eyes for hours ðŸ˜",
      "Thank you so much for being your wonderful self ðŸ’",
      "I am all yours for as long as you want me â¤ï¸",
      "You deserve to be treated the best because you are the best ðŸ¥°",
      "I feel like I've met my person with you ðŸ˜˜",
      "You make my days brighter just by being you ðŸŒŸ",
      "My feelings grow everytime I see your pretty face ðŸ˜",
      "Thinking about you always puts a smile on my face ðŸ˜Š",
      "You have such a beautiful heart ðŸ’–",
      "Life feels lighter when you're around ðŸ’«",
      "You're truly one of a kind ðŸ’Ž",
      "I love feeling your smile when our lips meet ðŸ˜˜",
      "You are always a joy to be around ðŸ’•",
      "The kindness that shows in your eyes when you smile is so endearing ðŸ’–",
      "I feel so grateful to know you ðŸ¥°",
      "Everything feels better when I'm with you' ðŸ˜Š",
      "You're such a comfort to be around ðŸ’—",
      "You inspire me to be my best self ðŸ˜Š",
      "Your kindness means more than you know ðŸ’",
      "Your hands are so warm and comforting ðŸ¤—",
      "You have a way of making ordinary moments special âœ¨",
      "I appreciate you more than words can say ðŸ’–",
      "You're such a lovely presence in my life ðŸ¥°",
      "Being around you feels like home ðŸ¡",
      "Your lips are so soft, I could kiss them forever ðŸ˜˜",
      "You always know how to make me smile ðŸ˜Š",
      "Your hands feel perfect in mine ðŸ¥°",
      "You deserve all the good things ðŸ’•",
      "I treasure every moment we share ðŸ’«",
      "You're so easy to care about ðŸ’—",
      "I'm really thankful for you, ma belle fleur ðŸŒ·",
      "Your strength is incredibly inspiring ðŸ’ª",
      "There is no woman in this universe sexier than you ðŸ”¥",
      "Your empathetic nature is so lovely ðŸ¤—",
      "Every time I see you, my heart does a happy dance ðŸ’ƒ",
      "You're my favourite thought, every single day ðŸ¥°",
      "Your cheeks are so kissable ðŸ˜š",
      "I fall for you more every moment ðŸ˜˜",
      "Those dimples of yours are irresistible ðŸ˜",
      "Your hugs are my favourite place in the world ðŸ¤—",
      "Your lips are dangerously kissable ðŸ˜˜",
      "Being with you feels like a dream I never want to wake up from ðŸ’•",
      "You make my heart skip beats every time ðŸ’“",
      "I adore every little thing about you, even the silly stuff ðŸ˜š",
      "You're my sunshine on cloudy days â˜€",
      "I want to hold your hand forever ðŸ¥°",
      "Every love song suddenly makes sense because of you ðŸŽ¶â¤",
      "You're the sweetest part of my life ðŸ¬ðŸ’—",
      "The sparkle in your eyes lights up my whole day âœ¨",
      "I love how just thinking of you makes me smile ðŸ˜ŠðŸ’˜",
      "I'm addicted to you ðŸ’•",
      "No one makes me feel the way you do ðŸ’“",
      "Every day with you is my favourite day ðŸ’",
      "You keep stealing my thoughtsâ€¦ and my heart ðŸ’•",
      "You make it impossible not to smile ðŸ˜šðŸ’–",
      "I swear you get cuter every single day ðŸ˜â¤",
      "You have no idea how much you make my heart race ðŸ¥°",
      "The sound of your laughter is music to my ears ðŸ˜",
      "How are you this perfect and still mine? ðŸ˜šðŸ’•",
      "Just thinking about you makes my day so much better ðŸ˜šðŸ’˜",
      "Your affection feels like the sweetest gift ðŸ’",
      "Being near you makes everything feel right ðŸ’–",
      "You are my happy place ðŸŒˆ",
      "I love the way you light up a room âœ¨",
      "You're my favourite hello and hardest goodbye ðŸ’•",
      "You make even the simplest moments unforgettable ðŸ’«",
      "I feel so safe and adored with you ðŸ¥°",
      "You're the reason I believe in magic âœ¨",
      "Just seeing your name makes my heart skip a beat ðŸ’—",
      "I love dreaming about our future together ðŸ’–",
      "You make my soul feel alive ðŸŒ¹",
      "I'm so proud of everything you are ðŸ’•",
      "You turn ordinary days into special memories ðŸ’«",
      "You are my favourite part of every day ðŸ’–",
      "I love how effortlessly you make me happy ðŸ’•",
      "I love how being with you is so easy and natural ðŸ’•",
      "You're my little piece of paradise ðŸ’—",
      "I can't imagine my world without you in it ðŸ’–",
      "You're my favourite daydream ðŸ˜",
      "You make even silence feel comforting ðŸ’—",
      "I could spend forever just holding you close ðŸ¤—",
      "You make life feel like a beautiful adventure ðŸŒ¸",
      "You make every moment feel worthwhile ðŸ’«",
      "I love how well your sense of humour meshes with mine ðŸ’•",
      "I feel so lucky to share life with you ðŸ’–",
      "I love how you inspire me every single day ðŸ’—"
    ];

    const specialMessages = {
      "01-01": "Happy New Year, my sweetheart! May your year be full of good times and great company ðŸ’–",
      "12-25": "Merry Christmas, ma belle chÃ©rie! Every day is a gift when I'm connected to you ðŸ’•",
      "12-29": "So excited to be going away with you! Prepare to be adored â¤ï¸",
      "12-30": "Day 2 of our stay and I'm the happiest man on Earth because I'm with you ðŸ˜Š",
      "12-31": "I hope you've enjoyed our stay, I wish it could last forever ðŸ¥°"
    };

    const today = new Date();
    document.getElementById("date").textContent =
      today.toLocaleDateString(undefined, { weekday:"long", month:"long", day:"numeric" });

    const hour = today.getHours();
    if (hour >= 20 || hour < 6) {
      document.body.classList.add("night");
    }

    function getDayOfYear(date) {
      const start = new Date(date.getFullYear(),0,0);
      const diff = date - start;
      return Math.floor(diff / (1000*60*60*24));
    }

    function seededRandom(seed) {
      const x = Math.sin(seed) * 10000;
      return x - Math.floor(x);
    }

    const month = String(today.getMonth() + 1).padStart(2, "0");
    const day = String(today.getDate()).padStart(2, "0");
    const todayKey = `${month}-${day}`;

    let messageText;
    if (specialMessages[todayKey]) {
      messageText = specialMessages[todayKey];
      document.body.classList.add("special-day");
    } else {
      const dayOfYear = getDayOfYear(today);
      const seed = today.getFullYear() * 1000 + dayOfYear;
      const messageIndex = Math.floor(seededRandom(seed) * messages.length);
      messageText = messages[messageIndex];
    }

    const messageEl = document.getElementById("message");
    const container = document.getElementById("container");
    let i = 0;
    function typeWriter() {
      if (i < messageText.length) {
        messageEl.textContent += messageText.charAt(i);
        i++;
        setTimeout(typeWriter, 60);
      } else {
        container.classList.add("sparkle");
      }
    }
    typeWriter();

    const heartsContainer = document.getElementById("hearts");
    const heartEmojis = ["â¤ï¸","ðŸ’–","ðŸ’•","ðŸ’—","ðŸ’˜","ðŸ’"];
    function createHeart() {
      const heart = document.createElement("div");
      heart.className = "heart";
      heart.textContent = heartEmojis[Math.floor(Math.random()*heartEmojis.length)];
      heart.style.left = Math.random()*100+"vw";
      heart.style.fontSize = (14+Math.random()*26)+"px";
      heart.style.animationDuration = (5+Math.random()*6)+"s";

      heart.addEventListener("click", () => {
        heart.classList.add("pop");
        if (navigator.vibrate) navigator.vibrate(10);
        setTimeout(() => heart.remove(), 200);
      });

      heartsContainer.appendChild(heart);
      setTimeout(()=>heart.remove(),11000);
    }
    setInterval(createHeart, 350);

    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('/sw.js')
        .then(() => console.log('Service Worker registered'))
        .catch(err => console.error('SW registration failed:', err));
    }
  </script>
</body>
</html>